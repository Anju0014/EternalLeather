<div>
  <div class="mt-4  bg-red-50 p-6 shadow-lg w-full  max-w-sm rounded-2xl font-[sans-serif] mx-80">
    <div class="flex flex-col items-center">
      <div class="min-h-[110px]">
        <img src='https://res.cloudinary.com/dihyb66hn/image/upload/v1726720095/kj7s5mf1qjknbfjad1wt.png' class="w-28 h-28 rounded-full" />
      </div>
  
      <div class="mt-4 text-center">
        <p class="text-lg text-gray-800 font-bold"><%= user.name %></p>
        <p class="text-sm text-gray-500 mt-1"><%= user.email %></p>
      </div>
    </div>
  </div>


  <div id="" class="bg-red-50 p-6 w-full shadow-md rounded-md m-5 mx-32" >
    <div class="flex justify-end">
     <button id="passwordchange" class="text-right">Change your Password <i class="fa-solid fa-pen-to-square"></i></button></div>
     <form id="passwordForm" class="hidden p-4 bg-gray-50 rounded-lg" action="">
      <div class="mb-4">
        <label for="currentPassword" class="block text-sm font-medium text-gray-700">Current Password</label>
        <input type="password" id="currentPassword" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" placeholder="Enter current password">
      </div>
      <div class="mb-4">
        <label for="newPassword" class="block text-sm font-medium text-gray-700">New Password</label>
        <input type="password" id="newPassword" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" placeholder="Enter new password">
      </div>
      <div class="mb-4">
        <label for="confirmPassword" class="block text-sm font-medium text-gray-700">Confirm New Password</label>
        <input type="password" id="confirmPassword" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" placeholder="Confirm new password">
      </div>
      <button type="submit" id="formsubmit" class="w-full inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
        Submit
      </button>
    </form>
  </div>




<!-- Dropdown -->






  <!-- Main Section -->
  <div class="w-full mx-32 bg-red-50 p-6 rounded-lg shadow-lg">

    <!-- Heading -->
    <h2 class="text-2xl font-bold mb-2">Manage Your Addresses</h2>
      <div>
        <table class="w-4/5 m-2 p-2 align-items-center border border-red-900 rounded" >
         
          <table class="w-4/5  m-20 p-2 align-items-center border border-red-900 rounded" >
            <% if (addresses && addresses.length> 0) { %>
              <% for (let i = 0; i < addresses.length; i++) { %>
                  <tr>
                      <td class="px-8"><%=   i+1 %></td>
                      <td class="px-8"><p><%=   addresses[i].contactname%>,<br><%=addresses[i].building %>,<br><%= addresses[i].street %>,
                        <br> <%=addresses[i].city %>,<br> <%=addresses[i].state %>,<br> <%=addresses[i].country %>, <%=addresses[i].pincode %>,
                        <br> <%=addresses[i].landMark %>,<br> <%=addresses[i].phoneno %><br><br></p></td>

                      <td class="px-10"><a href="/user/profile/address/edit?id=<%= addresses[i]._id %>"><i class="fa-regular fa-pen-to-square"></i></a></td> 
                     
                      <td class="px-8"><a href="/user/profile/address/delete?id=<%= addresses[i]._id %>" onclick="return confirm('Are you sure you want to delete this Address?');"><i class="fa-solid fa-trash text-danger"></i></a></td>
      
                  </tr>
              <% }  %>
          <% } %>
      </table>
    
      </div>
    <!-- Add New Address Form -->
    <div class="mb-6">
      <button   class="mt-4 bg-red-900 text-white px-4 py-2 rounded-lg hover:bg-red-700" id="addressadd">Add Address</a></button>
      
      <form id="addressForm" class="space-y-4 hidden bg-white p-3"  action="/user/profile/address/add" method="post">
        
        <div class="space-y-2">
          <label class="block text-sm font-medium text-gray-700">Name</label>
          <input type="text" id="contactname"  name="contactname"class="w-full px-4 py-2 border border-gray-300 rounded-lg" placeholder="Enter Name">
        </div>
    
          <div class="space-y-2">
            <label class="block text-sm font-medium text-gray-700">Phone Number</label>
            <input type="number" id="phoneNumber" name="phoneNumber" class="w-full px-4 py-2 border border-gray-300 rounded-lg" placeholder="Enter Phone Number">
          </div>

        <div>
          <label class="block text-sm font-medium text-gray-700">Buliding Name/ No.</label>
          <input type="text" id="building"  name="building" class="w-full px-4 py-2 border border-gray-300 rounded-lg" placeholder="Enter Buliding Address">
        </div>

        
        <div class="space-y-2">
          <label class="block text-sm font-medium text-gray-700">Street /Locality</label>
          <input type="text" id="street" name="street" class="w-full px-4 py-2 border border-gray-300 rounded-lg" placeholder="Enter Street Address">
        </div>

        <div class="space-y-2">
          <label class="block text-sm font-medium text-gray-700">City</label>
          <input type="text" id="city" name="city"class="w-full px-4 py-2 border border-gray-300 rounded-lg" placeholder="Enter city">
        </div>

        <div class="space-y-2">
          <label class="block text-sm font-medium text-gray-700">Postal Code</label>
          <input type="number" id="postalCode"   name="postalCode" class="w-full px-4 py-2 border border-gray-300 rounded-lg" placeholder="Enter postal code">
        </div>

        <div class="space-y-2">
          <label class="block text-sm font-medium text-gray-700">LandMark</label>
          <input type="text" id="landMark" name="landMark" class="w-full px-4 py-2 border border-gray-300 rounded-lg" placeholder="Enter LandMark">
        </div>

        <div class="space-y-2">
          <label class="block text-sm font-medium text-gray-700">State</label>
          <input type="text" id="state"   name="state" class="w-full px-4 py-2 border border-gray-300 rounded-lg" placeholder="Enter State">
        </div>

        <div class="space-y-2">
          <label class="block text-sm font-medium text-gray-700">Country</label>
          <input type="text" id="country"  name="country" class="w-full px-4 py-2 border border-gray-300 rounded-lg" placeholder="Enter Country">
        </div>

        <button type="submit" id="addAddressBtn"  name="addAddressBtn" class="mt-4 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700">Add Address</button>
      </form>
    </div>

   
  </div>
  </div>

  <script>
  
  // Dropdown toggle functionality
  // document.getElementById('dropdownMenu2').addEventListener('click', function() {
  //   const dropdownMenu2 = document.getElementById('dropdownMenu2');
  //   dropdownMenu2.classList.toggle('hidden');
  // });

  // Toggle form visibility when "Edit" button is clicked
  document.getElementById('passwordchange').addEventListener('click', function() {
    const passwordForm = document.getElementById('passwordForm');
    passwordForm.classList.toggle('hidden'); // Toggle hidden class
  });

  document.getElementById('addressadd').addEventListener('click', function() {
    const addressForm = document.getElementById('addressForm');
    addressForm.classList.toggle('hidden'); // Toggle hidden class
  });


  </script>

</body>
</html>
